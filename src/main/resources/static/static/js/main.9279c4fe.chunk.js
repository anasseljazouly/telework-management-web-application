(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{106:function(e,t,n){"use strict";n.r(t);n(72),n(73);var s=n(1),a=n.n(s),c=n(16),r=n.n(c),i=(n(78),n(79),n(80),n(8)),o=n(10),d=n(12),l=n(11),j=n(114),u=n(111),b=n(53),h=n(13),m=n(15),p=n(6),O=n(23),x=n(32),f=n(14),g=n.n(f),v="/api/users",N="/api/groupes",y="/api/plannings",U=new(function(){function e(){Object(i.a)(this,e)}return Object(o.a)(e,[{key:"getUsers",value:function(){return g.a.get(v)}},{key:"createUser",value:function(e){return g.a.post(v,e)}},{key:"getUserByEmail",value:function(e){return g.a.get("/api/users/email/"+e)}},{key:"getUserByCin",value:function(e){return g.a.get("/api/users/cin/"+e)}},{key:"getUserByIdU",value:function(e){return g.a.get("/api/users/idU/"+e)}},{key:"updateUser",value:function(e,t){return g.a.put("/api/users/idU/"+e,t)}},{key:"deleteUser",value:function(e){return g.a.delete("/api/users/idU/"+e)}},{key:"getUsersNotInGroupe",value:function(e){return g.a.get("/api/users/!idG/"+e)}},{key:"getUserByToken",value:function(e){return g.a.get("/api/users/"+e)}},{key:"getGroupes",value:function(){return g.a.get(N)}},{key:"deleteGroupe",value:function(e){return g.a.delete("/api/groupes/idG/"+e)}},{key:"getGroupeByIdG",value:function(e){return g.a.get("/api/groupes/idG/"+e)}},{key:"getGroupeByGroupeName",value:function(e){return g.a.get("/api/groupes/groupeName/"+e)}},{key:"updateGroupe",value:function(e,t){return g.a.put("/api/groupes/idG/"+e,t)}},{key:"createGroupe",value:function(e){return g.a.post(N,e)}},{key:"deleteUserFromGroupe",value:function(e,t){return g.a.post("/api/groupes/removeUser/"+e,t)}},{key:"addUserToGroupe",value:function(e,t){return g.a.post("/api/groupes/addUser/"+e,t)}},{key:"getPlanningOfGroupe",value:function(e){return g.a.get("/api/plannings/"+e)}},{key:"updatePlanning",value:function(e,t){return g.a.put("/api/plannings/"+e,t)}},{key:"deletePlanning",value:function(e){return g.a.delete("/api/plannings/"+e)}},{key:"createPlanning",value:function(e){return g.a.post(y,e)}},{key:"sendEmail",value:function(e){return g.a.post("/api/email",e)}},{key:"getNotifications",value:function(e){return g.a.get("/api/notifications/"+e)}},{key:"deleteNotification",value:function(e){return g.a.delete("/api/notifications/"+e)}}]),e}()),k=new(function(e){Object(d.a)(n,e);var t=Object(l.a)(n);function n(e){var s;return Object(i.a)(this,n),(s=t.call(this,e)).userInfos=[],s.userInfos=JSON.parse(localStorage.getItem("userInfos")),console.log(localStorage),console.log(localStorage.getItem("userInfos")),s}return n}(s.Component)),I=n(7),C=n(0),G=function(e){Object(d.a)(n,e);var t=Object(l.a)(n);function n(e){var s;return Object(i.a)(this,n),(s=t.call(this,e)).connect=function(e){e.preventDefault();var t="<div class='alert alert-danger'>";U.getUserByEmail(s.state.email).then((function(e){""==e.data?(t+="<li>Cet email n'existe pas</li>",t+="</div>",document.getElementById("errors").innerHTML=t,I.b.error("ERREUR")):e.data.password!=s.state.password?(t+="<li>Fausse combinaison</li>",t+="</div>",document.getElementById("errors").innerHTML=t,I.b.error("ERREUR")):(k.userInfos=e.data,localStorage.setItem("userInfos",JSON.stringify(k.userInfos)),s.props.history.push("/profil"),I.b.success("Connection avec succ\xe9s"),r.a.render(Object(C.jsx)(a.a.StrictMode,{children:Object(C.jsx)(je,{})}),document.getElementById("root")))}))},s.changeEmailHandler=function(e){s.setState({email:e.target.value})},s.changePasswordHandler=function(e){s.setState({password:e.target.value})},s.state={email:"",password:""},s.changeEmailHandler=s.changeEmailHandler.bind(Object(p.a)(s)),s.changePasswordHandler=s.changePasswordHandler.bind(Object(p.a)(s)),s}return Object(o.a)(n,[{key:"validateForm",value:function(){return this.state.email.length>0&&this.state.password.length>0}},{key:"render",value:function(){return Object(C.jsxs)("div",{className:"Login col-4 offset-4",children:[Object(C.jsx)("h3",{className:"text-center",children:"Se connecter"}),Object(C.jsx)("div",{id:"errors"}),Object(C.jsxs)(O.a,{className:"Auth",children:[Object(C.jsxs)(O.a.Group,{size:"lg",controlId:"email",children:[Object(C.jsx)(O.a.Label,{children:"Email"}),Object(C.jsx)(O.a.Control,{type:"email",name:"email",value:this.state.email,onChange:this.changeEmailHandler})]}),Object(C.jsxs)(O.a.Group,{size:"lg",controlId:"password",children:[Object(C.jsx)(O.a.Label,{className:"margin-10",children:"Password"}),Object(C.jsx)(O.a.Control,{name:"password",type:"password",value:this.state.password,onChange:this.changePasswordHandler})]}),Object(C.jsx)(x.a,{id:"btn-login",block:!0,size:"lg",onClick:this.connect,disabled:!this.validateForm(),children:"Connecter"})]}),Object(C.jsx)("div",{className:"text-center",children:Object(C.jsx)(h.b,{className:"no-decoration ",to:"/reset",children:"Mot de passe oubli\xe9 ?"})})]})}}]),n}(s.Component),w=Object(m.withRouter)(G),S=n(34),E=function(e){Object(d.a)(n,e);var t=Object(l.a)(n);function n(e){var s;return Object(i.a)(this,n),(s=t.call(this,e)).sendRequest=function(e){e.preventDefault();var t="<div class='alert alert-danger'>";console.log(s.state.token),U.getUserByToken(s.state.token).then((function(e){if(""==e.data)t+="<li>Demande refus\xe9e, le lien est non acceptable</li>",t+="</div>",document.getElementById("errors").innerHTML=t,I.b.error("ERREUR");else if(s.state.password!=s.state.confirmPassword)t+="<li>Les deux champs ne sont pas identiques</li>",t+="</div>",document.getElementById("errors").innerHTML=t,I.b.error("ERREUR");else{var n={idU:e.data.idU,idG:e.data.idG,firstName:e.data.firstName,secondName:e.data.secondName,sexe:e.data.sexe,country:e.data.country,city:e.data.city,address:e.data.address,birthday:e.data.birthday,birthplace:e.data.birthplace,cin:e.data.cin,phone:e.data.phone,email:e.data.email,password:s.state.password,profil:e.data.profil};console.log(n),U.updateUser(e.data.idU,n).then((function(e){console.log(e.data),k.userInfos=n,localStorage.setItem("userInfos",JSON.stringify(k.userInfos)),I.b.success("Changement de mot de passe avec succ\xe9s"),s.props.history.push("/profil"),r.a.render(Object(C.jsx)(a.a.StrictMode,{children:Object(C.jsx)(je,{})}),document.getElementById("root"))}))}}))},s.changePasswordHandler=function(e){s.setState({password:e.target.value})},s.changeConfirmPasswordHandler=function(e){s.setState({confirmPassword:e.target.value})},s.state={token:s.props.match.params.token,password:"",confirmPassword:""},s.changePasswordHandler=s.changePasswordHandler.bind(Object(p.a)(s)),s.changeConfirmPasswordHandler=s.changeConfirmPasswordHandler.bind(Object(p.a)(s)),s}return Object(o.a)(n,[{key:"validateForm",value:function(){return this.state.password.length>0&&this.state.confirmPassword.length>0}},{key:"render",value:function(){return Object(C.jsx)("div",{children:Object(C.jsxs)("div",{className:"Login col-4 offset-4",children:[Object(C.jsx)("h3",{className:"text-center",children:"Renitialisation du mot de passe"}),Object(C.jsx)("div",{id:"errors"}),Object(C.jsxs)(O.a,{children:[Object(C.jsxs)(O.a.Group,{size:"lg",children:[Object(C.jsx)(O.a.Label,{children:"Mot de passe"}),Object(C.jsx)(O.a.Control,{type:"password",name:"password",value:this.state.password,onChange:this.changePasswordHandler})]}),Object(C.jsxs)(O.a.Group,{size:"lg",children:[Object(C.jsx)(O.a.Label,{children:"Confirmer le mot de passe"}),Object(C.jsx)(O.a.Control,{type:"password",name:"confirmPassword",value:this.state.confirmPassword,onChange:this.changeConfirmPasswordHandler})]}),Object(C.jsx)(x.a,{id:"btn-login",block:!0,size:"lg",onClick:this.sendRequest,disabled:!this.validateForm(),children:"Reinitialiser"})]})]})})}}]),n}(s.Component),H=Object(S.withRouter)(E),P=function(e){Object(d.a)(n,e);var t=Object(l.a)(n);function n(e){var s;return Object(i.a)(this,n),(s=t.call(this,e)).sendRequest=function(e){e.preventDefault();var t="<div class='alert alert-danger'>";U.getUserByEmail(s.state.email).then((function(e){""==e.data?(t+="<li>Cet email n'existe pas</li>",t+="</div>",document.getElementById("errors").innerHTML=t,I.b.error("ERREUR")):U.sendEmail(e.data).then((function(e){t="<div class='Login col-4 offset-4'><h3>Un mail s'est envoy\xe9 \xe0 votre email</h3></div>",document.getElementById("component").innerHTML=t,I.b.success("Email envoy\xe9")}))}))},s.changeEmailHandler=function(e){s.setState({email:e.target.value})},s.state={email:""},s.changeEmailHandler=s.changeEmailHandler.bind(Object(p.a)(s)),s}return Object(o.a)(n,[{key:"validateForm",value:function(){return this.state.email.length>0}},{key:"render",value:function(){return Object(C.jsx)("div",{id:"component",children:Object(C.jsxs)("div",{className:"Login col-4 offset-4",children:[Object(C.jsx)("h3",{className:"text-center",children:"Mot de passe oubli\xe9"}),Object(C.jsx)("div",{id:"errors"}),Object(C.jsxs)(O.a,{children:[Object(C.jsxs)(O.a.Group,{size:"lg",controlId:"email",children:[Object(C.jsx)(O.a.Label,{children:"Email"}),Object(C.jsx)(O.a.Control,{type:"email",name:"email",value:this.state.email,onChange:this.changeEmailHandler})]}),Object(C.jsx)(x.a,{id:"btn-login",block:!0,size:"lg",onClick:this.sendRequest,disabled:!this.validateForm(),children:"Envoyer"})]})]})})}}]),n}(s.Component),D=function(e){Object(d.a)(n,e);var t=Object(l.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){return Object(C.jsx)(h.a,{children:Object(C.jsxs)("div",{className:"mb-40",children:[Object(C.jsx)(j.a,{className:"mb-20",bg:"dark",variant:"dark",children:Object(C.jsxs)(u.a,{children:[Object(C.jsx)(b.a.Item,{className:"col-6 text-center",children:Object(C.jsx)(h.b,{to:"/login",children:"Se connecter"})}),Object(C.jsx)(b.a.Item,{className:"col-6 text-center",children:Object(C.jsx)(h.b,{to:"/reset",children:"Mot de passe oubli\xe9"})})]})}),Object(C.jsxs)(m.Switch,{children:[Object(C.jsx)(m.Route,{exact:!0,path:"/",children:Object(C.jsx)(w,{})}),Object(C.jsx)(m.Route,{path:"/login",children:Object(C.jsx)(w,{})}),Object(C.jsx)(m.Route,{path:"/reset",children:Object(C.jsx)(P,{})}),Object(C.jsx)(m.Route,{path:"/resetPassword/:token",children:Object(C.jsx)(H,{})})]})]})})}}]),n}(s.Component),R=n(112),M=function(e){Object(d.a)(n,e);var t=Object(l.a)(n);function n(e){var s;return Object(i.a)(this,n),(s=t.call(this,e)).saveOrUpdateUser=function(e){var t="<div class='alert alert-danger'>";e.preventDefault();var n={firstName:s.state.firstName,secondName:s.state.secondName,sexe:s.state.sexe,country:s.state.country,city:s.state.city,address:s.state.address,birthday:s.state.birthday,birthplace:s.state.birthplace,cin:s.state.cin,phone:s.state.phone,email:s.state.email,password:s.state.password,profil:s.state.profil};console.log(JSON.stringify(n)),-1==s.state.idU?U.getUserByEmail(s.state.email).then((function(e){""!=e.data&&(t+="<li>Cet email existe deja</li>"),U.getUserByCin(s.state.cin).then((function(e){""!=e.data&&(t+="<li>Ce numero du cin existe deja</li>"),"<div class='alert alert-danger'>"==t?(I.b.loading("Envoie du mail",{duration:6e3}),console.log("Ajouter avec succ\xe9s"),U.createUser(n).then((function(e){I.b.success("Creation avec succ\xe9s"),s.props.history.push("/userComponent")}))):(t+="</div>",document.getElementById("errors").innerHTML=t,I.b.error("ERREUR"),window.scrollTo(0,0))}))})):U.getUserByEmail(s.state.email).then((function(e){""!=e.data&&s.state.idU!=e.data.idU&&(t+="<li>Cet email existe deja</li>"),U.getUserByCin(s.state.cin).then((function(e){""!=e.data&&s.state.idU!=e.data.idU&&(t+="<li>Ce numero du cin existe deja</li>"),"<div class='alert alert-danger'>"==t?(console.log("Modifier avec succ\xe9s"),s.state.idU==k.userInfos.idU?(U.updateUser(s.state.idU,n),U.getUserByIdU(s.state.idU).then((function(e){k.userInfos=e.data,localStorage.setItem("userInfos",JSON.stringify(k.userInfos)),I.b.success("Modifier avec succ\xe9s"),s.props.history.push("/profil")}))):U.updateUser(s.state.idU,n).then((function(e){I.b.success("Modifier avec succ\xe9s"),s.props.history.push("/userComponent")}))):(t+="</div>",document.getElementById("errors").innerHTML=t,I.b.error("ERREUR"),window.scrollTo(0,0))}))}))},s.cancel=function(e){e.preventDefault(),s.state.idU==k.userInfos.idU?s.props.history.push("/profil"):s.props.history.push("/userComponent"),console.log("Annuler")},s.changeFirstNameHandler=function(e){s.setState({firstName:e.target.value.toUpperCase()})},s.changeSecondNameHandler=function(e){s.setState({secondName:e.target.value.toUpperCase()})},s.changeEmailHandler=function(e){s.setState({email:e.target.value})},s.changePasswordHandler=function(e){s.setState({password:e.target.value})},s.changeCINHandler=function(e){s.setState({cin:e.target.value.toUpperCase()})},s.changeSexeHandler=function(e){s.setState({sexe:parseInt(e.target.value)})},s.changeAddressHandler=function(e){s.setState({address:e.target.value.toUpperCase()})},s.changeCityHandler=function(e){s.setState({city:e.target.value.toUpperCase()})},s.changeCountryHandler=function(e){s.setState({country:e.target.value.toUpperCase()})},s.changeBirthdayHandler=function(e){s.setState({birthday:e.target.value})},s.changeBirthplaceHandler=function(e){s.setState({birthplace:e.target.value.toUpperCase()})},s.changePhoneHandler=function(e){s.setState({phone:parseInt(e.target.value)})},s.changeProfilHandler=function(e){s.setState({profil:e.target.value.toUpperCase()})},s.state={idU:s.props.match.params.idU,firstName:"",secondName:"",sexe:"",country:"",city:"",address:"",birthday:"",birthplace:"",cin:"",phone:"",email:"",password:"",profil:""},console.log(k.id),console.log(s.state.idU),s.changeFirstNameHandler=s.changeFirstNameHandler.bind(Object(p.a)(s)),s.changeSecondNameHandler=s.changeSecondNameHandler.bind(Object(p.a)(s)),s.changeEmailHandler=s.changeEmailHandler.bind(Object(p.a)(s)),s.changePasswordHandler=s.changePasswordHandler.bind(Object(p.a)(s)),s.changeCINHandler=s.changeCINHandler.bind(Object(p.a)(s)),s.changeSexeHandler=s.changeSexeHandler.bind(Object(p.a)(s)),s.changeAddressHandler=s.changeAddressHandler.bind(Object(p.a)(s)),s.changeCityHandler=s.changeCityHandler.bind(Object(p.a)(s)),s.changeCountryHandler=s.changeCountryHandler.bind(Object(p.a)(s)),s.changeBirthdayHandler=s.changeBirthdayHandler.bind(Object(p.a)(s)),s.changeBirthplaceHandler=s.changeBirthplaceHandler.bind(Object(p.a)(s)),s.changePhoneHandler=s.changePhoneHandler.bind(Object(p.a)(s)),s.changeProfilHandler=s.changeProfilHandler.bind(Object(p.a)(s)),s.saveOrUpdateUser=s.saveOrUpdateUser.bind(Object(p.a)(s)),s.cancel=s.cancel.bind(Object(p.a)(s)),s.showForm=s.showForm.bind(Object(p.a)(s)),s}return Object(o.a)(n,[{key:"componentDidMount",value:function(){var e=this;-1!=this.state.idU?U.getUserByIdU(this.state.idU).then((function(t){var n=t.data;e.setState({firstName:n.firstName,secondName:n.secondName,sexe:n.sexe,country:n.country,city:n.city,address:n.address,birthday:n.birthday,birthplace:n.birthplace,cin:n.cin,phone:n.phone,email:n.email,password:n.password,profil:n.profil})})):console.log("ajouter")}},{key:"getButtons",value:function(){return-1==this.state.idU?(console.log("ajouter buttons"),Object(C.jsx)("button",{className:"btn btn-success margin-left-40 mt-10 ",onClick:this.saveOrUpdateUser,disabled:!this.validateForm(),children:"Enregistrer"})):Object(C.jsxs)("div",{children:[Object(C.jsx)("button",{className:"btn btn-success col-4 offset-1  mt-20 ",onClick:this.saveOrUpdateUser,disabled:!this.validateForm(),children:"Enregistrer"}),Object(C.jsx)("button",{className:"btn btn-danger col-4 offset-2  mt-20 ",onClick:this.cancel,children:"Annuler"})]})}},{key:"getTitle",value:function(){return-1==this.state.idU?Object(C.jsx)("h3",{className:"text-center mt-10",children:"Cr\xe9er un utilisateur"}):Object(C.jsx)("h3",{className:"text-center mt-10",children:"Modifier un utilisateur"})}},{key:"validateForm",value:function(){return this.state.address.length>0&&this.state.birthday.length>0&&this.state.birthplace.length>0&&this.state.cin.length>0&&this.state.city.length>0&&this.state.country.length>0&&this.state.email.length>0&&this.state.firstName.length>0&&this.state.password.length>0&&""!=this.state.phone.length&&this.state.secondName.length>0&&this.state.profil.length>0&&0!=this.state.sexe.length}},{key:"showForm",value:function(){return"ADMIN"!=k.userInfos.profil&&-1!=this.state.idU}},{key:"render",value:function(){return Object(C.jsx)("div",{children:Object(C.jsx)("div",{className:"container",children:Object(C.jsx)("div",{className:"row",children:Object(C.jsxs)("div",{className:"card col-md-6 offset-md-3",id:"card",children:[this.getTitle(),Object(C.jsxs)("div",{className:"card-body",children:[Object(C.jsx)("div",{id:"errors"}),Object(C.jsxs)("form",{children:[Object(C.jsxs)("div",{className:"form-groupe",children:[Object(C.jsx)("label",{children:"Prenom :"}),Object(C.jsx)("input",{name:"firstName",className:"form-control",value:this.state.firstName,onChange:this.changeFirstNameHandler})]}),Object(C.jsxs)("div",{className:"form-groupe",children:[Object(C.jsx)("label",{children:"Nom :"}),Object(C.jsx)("input",{name:"secondName",className:"form-control",value:this.state.secondName,onChange:this.changeSecondNameHandler})]}),Object(C.jsxs)("div",{className:"form-groupe",children:[Object(C.jsx)("label",{children:"Email :"}),Object(C.jsx)("input",{type:"email",name:"email",className:"form-control",value:this.state.email,onChange:this.changeEmailHandler})]}),Object(C.jsxs)("div",{className:"form-groupe",children:[Object(C.jsx)("label",{children:"Mot de passe :"}),Object(C.jsx)("input",{name:"password",type:"password",className:"form-control",value:this.state.password,onChange:this.changePasswordHandler})]}),Object(C.jsxs)("div",{className:"form-groupe",children:[Object(C.jsx)("label",{children:"CIN :"}),Object(C.jsx)("input",{name:"cin",className:"form-control",value:this.state.cin,onChange:this.changeCINHandler})]}),Object(C.jsxs)("div",{className:"form-groupe",children:[Object(C.jsx)("label",{children:"Sexe :"}),Object(C.jsx)("br",{}),Object(C.jsx)("input",{type:"radio",value:1,name:"sexe",onChange:this.changeSexeHandler,checked:1===this.state.sexe}),"Masculin",Object(C.jsx)("input",{type:"radio",value:0,name:"sexe",className:"margin-left-25 ",onChange:this.changeSexeHandler,checked:0===this.state.sexe}),"Feminin"]}),Object(C.jsxs)("div",{className:"form-groupe",children:[Object(C.jsx)("label",{children:"Adresse :"}),Object(C.jsx)("input",{name:"address",className:"form-control",value:this.state.address,onChange:this.changeAddressHandler})]}),Object(C.jsxs)("div",{className:"form-groupe",children:[Object(C.jsx)("label",{children:"Ville :"}),Object(C.jsx)("input",{name:"city",className:"form-control",value:this.state.city,onChange:this.changeCityHandler})]}),Object(C.jsxs)("div",{className:"form-groupe",children:[Object(C.jsx)("label",{children:"Pays :"}),Object(C.jsx)("input",{name:"country",className:"form-control",value:this.state.country,onChange:this.changeCountryHandler})]}),Object(C.jsxs)("div",{className:"form-groupe",children:[Object(C.jsx)("label",{children:"Jour de naissance :"}),Object(C.jsx)("input",{type:"date",name:"birthday",className:"form-control",value:this.state.birthday,onChange:this.changeBirthdayHandler})]}),Object(C.jsxs)("div",{className:"form-groupe",children:[Object(C.jsx)("label",{children:"Lieu de naissance :"}),Object(C.jsx)("input",{name:"birthplace",className:"form-control",value:this.state.birthplace,onChange:this.changeBirthplaceHandler})]}),Object(C.jsxs)("div",{className:"form-groupe",children:[Object(C.jsx)("label",{children:"Numero de telephone :"}),Object(C.jsx)("input",{type:"number",name:"phone",className:"form-control",value:this.state.phone,onChange:this.changePhoneHandler})]}),Object(C.jsxs)("div",{hidden:this.showForm(),className:"form-groupe",children:[Object(C.jsx)("label",{children:"Profile :"}),Object(C.jsx)("br",{}),Object(C.jsx)("input",{type:"radio",value:"ADMIN",name:"profil",onChange:this.changeProfilHandler,checked:"ADMIN"===this.state.profil}),"Admin",Object(C.jsx)("input",{type:"radio",value:"RESPONSABLE",name:"profil",className:"margin-left-25 ",onChange:this.changeProfilHandler,checked:"RESPONSABLE"===this.state.profil}),"Responsable",Object(C.jsx)("input",{type:"radio",value:"AGENT",name:"profil",className:"margin-left-25 ",onChange:this.changeProfilHandler,checked:"AGENT"===this.state.profil}),"Agent"]}),this.getButtons()]})]})]})})})})}}]),n}(s.Component),B=Object(m.withRouter)(M),T=function(e){Object(d.a)(n,e);var t=Object(l.a)(n);function n(e){var s;return Object(i.a)(this,n),(s=t.call(this,e)).state={groupeName:""},null!=k.userInfos.idG&&U.getGroupeByIdG(k.userInfos.idG).then((function(e){s.setState({groupeName:e.data.groupeName})})),s.gender=s.gender.bind(Object(p.a)(s)),s.editUser=s.editUser.bind(Object(p.a)(s)),s}return Object(o.a)(n,[{key:"gender",value:function(e){return 1===e?"masculin":"feminin"}},{key:"groupe",value:function(e){return""==e||void 0==e?"Pas de groupe":e}},{key:"editUser",value:function(e){this.props.history.push("/addUser/".concat(e))}},{key:"render",value:function(){var e=this;return Object(C.jsx)("div",{className:"container",children:Object(C.jsx)("div",{className:"main-body",children:Object(C.jsxs)("div",{className:"row gutters-sm",children:[Object(C.jsxs)("div",{className:"col-md-4 mb-3",children:[Object(C.jsx)("div",{className:"card",id:"card",children:Object(C.jsx)("div",{className:"card-body",children:Object(C.jsxs)("div",{className:"d-flex flex-column align-items-center text-center",children:[Object(C.jsx)("img",{src:"https://bootdey.com/img/Content/avatar/avatar7.png",alt:"Admin",className:"rounded-circle",width:"150"}),Object(C.jsxs)("div",{className:"mt-3",children:[Object(C.jsxs)("h4",{children:[Object(C.jsx)("span",{children:k.userInfos.firstName}),Object(C.jsx)("span",{children:" \xa0"}),Object(C.jsx)("span",{children:k.userInfos.secondName})]}),Object(C.jsxs)("p",{className:"textSecondary font-size-sm",children:[Object(C.jsx)("span",{children:k.userInfos.address}),Object(C.jsx)("span",{children:"\xa0,\xa0"}),Object(C.jsx)("span",{children:k.userInfos.city})," ",Object(C.jsx)("span",{children:"\xa0,\xa0"}),Object(C.jsx)("span",{children:k.userInfos.country})]})]})]})})}),Object(C.jsx)("div",{className:"offset-4 mt-10",children:Object(C.jsx)("button",{onClick:function(){return e.editUser(k.userInfos.idU)},className:"btn btn-success ",children:"Modifier"})})]}),Object(C.jsx)("div",{className:"col-md-8",children:Object(C.jsx)("div",{className:"card mb-3",id:"card",children:Object(C.jsxs)("div",{className:"card-body",children:[Object(C.jsxs)("div",{className:"row",children:[Object(C.jsx)("div",{className:"col-sm-3",children:Object(C.jsx)("h6",{children:"Profile"})}),Object(C.jsx)("div",{className:"col-sm-9 textSecondary",children:k.userInfos.profil})]}),Object(C.jsx)("hr",{}),Object(C.jsxs)("div",{className:"row",children:[Object(C.jsx)("div",{className:"col-sm-3",children:Object(C.jsx)("h6",{children:"Sexe"})}),Object(C.jsx)("div",{className:"col-sm-9 textSecondary",children:this.gender(k.userInfos.sexe)})]}),Object(C.jsx)("hr",{}),Object(C.jsxs)("div",{className:"row",children:[Object(C.jsx)("div",{className:"col-sm-3",children:Object(C.jsx)("h6",{children:"Jour de naissance"})}),Object(C.jsx)("div",{className:"col-sm-9 textSecondary",children:k.userInfos.birthday})]}),Object(C.jsx)("hr",{}),Object(C.jsxs)("div",{className:"row",children:[Object(C.jsx)("div",{className:"col-sm-3",children:Object(C.jsx)("h6",{children:"Lieu de naissance"})}),Object(C.jsx)("div",{className:"col-sm-9 textSecondary",children:k.userInfos.birthplace})]}),Object(C.jsx)("hr",{}),Object(C.jsxs)("div",{className:"row",children:[Object(C.jsx)("div",{className:"col-sm-3",children:Object(C.jsx)("h6",{children:"Email"})}),Object(C.jsx)("div",{className:"col-sm-9 textSecondary",children:k.userInfos.email})]}),Object(C.jsx)("hr",{}),Object(C.jsxs)("div",{className:"row",children:[Object(C.jsx)("div",{className:"col-sm-3",children:Object(C.jsx)("h6",{children:"CIN"})}),Object(C.jsx)("div",{className:"col-sm-9 textSecondary",children:k.userInfos.cin})]}),Object(C.jsx)("hr",{}),Object(C.jsxs)("div",{className:"row",children:[Object(C.jsx)("div",{className:"col-sm-3",children:Object(C.jsx)("h6",{children:"Numero de telephone"})}),Object(C.jsx)("div",{className:"col-sm-9 textSecondary",children:k.userInfos.phone})]}),Object(C.jsx)("hr",{}),Object(C.jsxs)("div",{className:"row",children:[Object(C.jsx)("div",{className:"col-sm-3",children:Object(C.jsx)("h6",{children:"Groupe"})}),Object(C.jsx)("div",{className:"col-sm-9 textSecondary",children:this.groupe(this.state.groupeName)})]})]})})})]})})})}}]),n}(s.Component),A=Object(m.withRouter)(T),L=n(52),F=n.n(L),z=n(66),J=function(e){Object(d.a)(n,e);var t=Object(l.a)(n);function n(e){var s;return Object(i.a)(this,n),(s=t.call(this,e)).state={users:[],idU:"",groupeName:[]},s.editUser=s.editUser.bind(Object(p.a)(s)),s.deleteUser=s.deleteUser.bind(Object(p.a)(s)),s}return Object(o.a)(n,[{key:"editUser",value:function(e){this.props.history.push("/addUser/".concat(e))}},{key:"deleteUser",value:function(){var e=Object(z.a)(F.a.mark((function e(t){var n=this;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return I.b.loading("Envoie du mail",{duration:6e3}),e.next=3,U.deleteUser(t).then((function(e){n.setState({users:n.state.users.filter((function(e){return e.idU!==t}))})}));case 3:console.log("Suppression avec succ\xe9s"),I.b.success("Suppression avec succ\xe9s");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){var e=this;U.getUsers().then((function(t){var n=[];t.data.map((function(t){t.idU!==k.userInfos.idU&&(null==t.idG?(n.push({idU:t.idU,name:"-"}),e.setState({groupeName:n})):U.getGroupeByIdG(t.idG).then((function(s){n.push({idU:t.idU,name:s.data.groupeName}),e.setState({groupeName:n})})))})),e.setState({users:t.data.filter((function(e){return e.idU!==k.userInfos.idU}))})}))}},{key:"gender",value:function(e){return 1===e?"masculin":"feminin"}},{key:"defined",value:function(e){if(void 0!=e)return e.name}},{key:"render",value:function(){var e=this;return Object(C.jsxs)("div",{className:"main-component",children:[Object(C.jsx)("h1",{className:"text-center",children:"Liste des Utilisateurs"}),Object(C.jsxs)("table",{className:"table table-striped text-center font-size table-bordered table-active",children:[Object(C.jsx)("thead",{className:"table-dark",children:Object(C.jsxs)("tr",{children:[Object(C.jsx)("td",{children:"ID"}),Object(C.jsx)("td",{children:"Prenom"}),Object(C.jsx)("td",{children:"Nom"}),Object(C.jsx)("td",{children:"Sexe"}),Object(C.jsx)("td",{children:"Pays"}),Object(C.jsx)("td",{children:"Ville"}),Object(C.jsx)("td",{children:"Adresse"}),Object(C.jsx)("td",{children:"Date de naissance"}),Object(C.jsx)("td",{children:"Lieu de naissance"}),Object(C.jsx)("td",{children:"CIN"}),Object(C.jsx)("td",{children:"Num de telephone"}),Object(C.jsx)("td",{children:"Email"}),Object(C.jsx)("td",{children:"Mot de passe"}),Object(C.jsx)("td",{children:"Profil"}),Object(C.jsx)("td",{children:"Groupe"})]})}),this.state.users.map((function(t){return Object(C.jsxs)("tbody",{className:"table-light",children:[Object(C.jsxs)("tr",{children:[Object(C.jsx)("td",{children:t.idU}),Object(C.jsx)("td",{children:t.firstName}),Object(C.jsx)("td",{children:t.secondName}),Object(C.jsx)("td",{children:e.gender(t.sexe)}),Object(C.jsx)("td",{children:t.country}),Object(C.jsx)("td",{children:t.city}),Object(C.jsx)("td",{children:t.address}),Object(C.jsx)("td",{children:t.birthday}),Object(C.jsx)("td",{children:t.birthplace}),Object(C.jsx)("td",{children:t.cin}),Object(C.jsx)("td",{children:t.phone}),Object(C.jsx)("td",{children:t.email}),Object(C.jsx)("td",{children:t.password}),Object(C.jsx)("td",{children:t.profil}),Object(C.jsx)("td",{children:e.defined(e.state.groupeName.find((function(e){return e.idU==t.idU})))})]},t.idU),Object(C.jsxs)("tr",{className:" tr-user",children:[Object(C.jsx)("td",{}),Object(C.jsx)("td",{}),Object(C.jsx)("td",{}),Object(C.jsx)("td",{}),Object(C.jsx)("td",{children:Object(C.jsx)("button",{onClick:function(){return e.editUser(t.idU)},className:"btn btn-success ",children:"Modifier"})}),Object(C.jsx)("td",{}),Object(C.jsx)("td",{}),Object(C.jsx)("td",{}),Object(C.jsx)("td",{}),Object(C.jsx)("td",{}),Object(C.jsx)("td",{}),Object(C.jsxs)("td",{children:["   ",Object(C.jsx)("button",{onClick:function(){return e.deleteUser(t.idU)},className:"btn btn-danger",children:"Supprimer"})]}),Object(C.jsx)("td",{}),Object(C.jsx)("td",{}),Object(C.jsx)("td",{})]})]})}))]})]})}}]),n}(a.a.Component),q=Object(m.withRouter)(J),V=n(46),_=n(113),W=function(e){var t=document.querySelector(".tp-calendar").clientWidth;t>900?e(3):t<900&&t>580?e(2):t<580&&e(1)},Y=function(e){Object(d.a)(n,e);var t=Object(l.a)(n);function n(e){var s;return Object(i.a)(this,n),(s=t.call(this,e)).state={idG:k.userInfos.idG,plannings:[],dates:[]},s}return Object(o.a)(n,[{key:"componentDidMount",value:function(){var e=this;null!=this.state.idG&&U.getGroupeByIdG(this.state.idG).then((function(t){console.log(t.data),e.setState({plannings:t.data.plannings});var n=[];e.state.plannings.map((function(t){var s=new Date(t.startDate),a=new Date(t.endDate);for(n.push(Object(_.a)(s,"yyyy-MM-dd")),console.log(s),console.log(a),console.log(s<a);s<a;)s.setDate(s.getDate()+1),n.push(Object(_.a)(s,"yyyy-MM-dd")),console.log(s);e.setState({dates:n}),console.log(e.state.dates)})),e.setState({dates:n})}))}},{key:"render",value:function(){return null==this.state.idG?Object(C.jsx)("div",{className:"container text-center main-component",children:Object(C.jsx)("h3",{children:"Vous n'appartenez \xe0 aucun groupe contactez votre responsable pour plus d'infos ."})}):Object(C.jsx)("div",{className:"container main-component",children:Object(C.jsx)(V.a,{onChange:function(e){return console.log("dates",e)},selectedDays:this.state.dates,jalali:!1,numberOfMonths:3,numberOfSelectableDays:1e3,disabledDays:[],responsive:W,disabledBeforToday:!1,disabled:!0,dayComponent:"2021-08-02",titleComponent:"Title"})})}}]),n}(s.Component),Z=Object(S.withRouter)(Y),K=function(e){Object(d.a)(n,e);var t=Object(l.a)(n);function n(e){var s;return Object(i.a)(this,n),(s=t.call(this,e)).state={notifications:[]},s.deleteNotification=s.deleteNotification.bind(Object(p.a)(s)),s.moveTo=s.moveTo.bind(Object(p.a)(s)),s}return Object(o.a)(n,[{key:"componentDidMount",value:function(){var e=this;U.getNotifications(k.userInfos.idU).then((function(t){e.setState({notifications:t.data})}))}},{key:"deleteNotification",value:function(e){var t=this;U.deleteNotification(e).then((function(n){t.setState({notifications:t.state.notifications.filter((function(t){return t.idN!==e}))})}))}},{key:"moveTo",value:function(e,t){var n=this;U.deleteNotification(e).then((function(e){"Compte"!=t&&"Groupe"!=t||n.props.history.push("/profil"),"Planning"==t&&n.props.history.push("/monPlanning"),"Email"==t&&(window.open("https://mail.google.com/mail/u/0/#inbox","_blank"),n.props.history.push("/profil"))}))}},{key:"render",value:function(){var e=this;return Object(C.jsxs)("div",{className:"container main-component text-center centred",children:[Object(C.jsx)("h1",{className:"mb-20",children:"Notifications"}),this.state.notifications.map((function(t){return Object(C.jsx)("div",{"data-test":"container",className:"container mb-20",children:Object(C.jsxs)("div",{"data-test":"notification",className:"toast fade show stylish-color-dark",children:[Object(C.jsxs)("div",{className:"toast-header elegant-color-dark white-text",children:[Object(C.jsx)("i",{"data-test":"fa",className:"fa fa-bell fa-lg mr-2 blue-grey-text"}),Object(C.jsx)("strong",{className:"mr-auto",children:t.title}),Object(C.jsx)("small",{}),Object(C.jsx)("button",{"data-test":"close-button",type:"button",className:"close ml-2 mb-1 blue-grey-text","aria-label":"Close",onClickCapture:function(){return e.deleteNotification(t.idN)},children:Object(C.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),Object(C.jsx)("div",{className:"toast-body font-weight-bold white-text",onClick:function(){return e.moveTo(t.idN,t.title)},children:Object(C.jsx)("p",{dangerouslySetInnerHTML:{__html:t.text}})})]})})}))]})}}]),n}(s.Component),Q=Object(S.withRouter)(K),X=function(e){Object(d.a)(n,e);var t=Object(l.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"deconnected",value:function(){localStorage.clear(),console.log("deconnected"),k.userInfos=[],r.a.render(Object(C.jsx)(a.a.StrictMode,{children:Object(C.jsx)(je,{})}),document.getElementById("root"))}},{key:"render",value:function(){return Object(C.jsx)(h.a,{children:Object(C.jsxs)("div",{className:"mb-40",children:[Object(C.jsx)(j.a,{className:"mb-20",bg:"dark",variant:"dark",children:Object(C.jsxs)(u.a,{children:[Object(C.jsx)(b.a.Item,{children:Object(C.jsxs)(h.b,{to:"/profil",children:[Object(C.jsx)("i",{className:"fa fa-user fa-sm mr-2 "}),"Profil"]})}),Object(C.jsx)(b.a.Item,{children:Object(C.jsxs)(R.a,{title:Object(C.jsxs)("span",{children:[Object(C.jsx)("i",{className:"fa fa-address-book fa-sm mr-2 "}),"Utilisateurs"]}),children:[Object(C.jsx)(R.a.Item,{className:"text-center",children:Object(C.jsxs)(h.b,{to:"/addUser/-1",children:[Object(C.jsx)("i",{className:"fa fa-plus fa-sm mr-2 "}),"Cr\xe9er"]})}),Object(C.jsx)(R.a.Item,{className:"text-center",children:Object(C.jsxs)(h.b,{to:"/userComponent",children:[Object(C.jsx)("i",{className:"fa fa-pen fa-sm mr-2 "}),"Modifier/Supprimer"]})})]})}),Object(C.jsx)(b.a.Item,{children:Object(C.jsxs)(h.b,{to:"/monPlanning",children:[Object(C.jsx)("i",{className:"fa fa-clock fa-sm mr-2 "}),"Planning"]})}),Object(C.jsx)(b.a.Item,{children:Object(C.jsxs)(h.b,{to:"/notifications",children:[" ",Object(C.jsx)("i",{className:"fa fa-bell fa-sm mr-2 "}),"Notifications"]})}),Object(C.jsx)(b.a.Item,{children:Object(C.jsx)(h.b,{to:"/login",children:Object(C.jsx)("button",{id:"deconnect-btn",className:"btn btn-secondary btn-sm btn-block",onClick:this.deconnected,children:"Se deconnecter"})})})]})}),Object(C.jsxs)(m.Switch,{children:[Object(C.jsx)(m.Route,{exact:!0,path:"/",children:Object(C.jsx)(A,{})}),Object(C.jsx)(m.Route,{path:"/profil",children:Object(C.jsx)(A,{})}),Object(C.jsx)(m.Route,{path:"/userComponent",children:Object(C.jsx)(q,{})}),Object(C.jsx)(m.Route,{path:"/addUser/:idU",children:Object(C.jsx)(B,{})}),Object(C.jsx)(m.Route,{path:"/monPlanning",children:Object(C.jsx)(Z,{})}),Object(C.jsx)(m.Route,{path:"/notifications",children:Object(C.jsx)(Q,{})})]})]})})}}]),n}(s.Component),$=function(e){Object(d.a)(n,e);var t=Object(l.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){return Object(C.jsx)("div",{children:Object(C.jsx)("footer",{className:"bg-dark white mt-20 text-center footer",children:"\xa9EL JAZOULY Anass"})})}}]),n}(s.Component),ee=function(e){var t=document.querySelector(".tp-calendar").clientWidth;t>900?e(3):t<900&&t>580?e(2):t<580&&e(1)},te=function(e){Object(d.a)(n,e);var t=Object(l.a)(n);function n(e){var s;return Object(i.a)(this,n),(s=t.call(this,e)).state={idG:s.props.match.params.idG,plannings:[],dates:[],groupeName:""},s.setDates=s.setDates.bind(Object(p.a)(s)),s.addPlanning=s.addPlanning.bind(Object(p.a)(s)),s.back=s.back.bind(Object(p.a)(s)),s.deletePlanning=s.deletePlanning.bind(Object(p.a)(s)),s}return Object(o.a)(n,[{key:"setDates",value:function(){var e=this;this.state.plannings.map((function(t){var n=new Date(t.startDate),s=new Date(t.endDate);for(e.state.dates.push(Object(_.a)(n,"yyyy-MM-dd")),console.log(n),console.log(s),console.log(n<s);n<s;)n.setDate(n.getDate()+1),e.state.dates.push(Object(_.a)(n,"yyyy-MM-dd")),console.log(n);console.log(e.state.dates)}))}},{key:"componentDidMount",value:function(){var e=this;U.getGroupeByIdG(this.state.idG).then((function(t){console.log(t.data),e.setState({plannings:t.data.plannings,groupeName:t.data.groupeName});var n=[];e.state.plannings.map((function(t){var s=new Date(t.startDate),a=new Date(t.endDate);for(n.push(Object(_.a)(s,"yyyy-MM-dd")),console.log(s),console.log(a),console.log(s<a);s<a;)s.setDate(s.getDate()+1),n.push(Object(_.a)(s,"yyyy-MM-dd")),console.log(s);e.setState({dates:n}),console.log(e.state.dates)})),e.setState({dates:n})}))}},{key:"back",value:function(){this.props.history.push("/groupeComponent")}},{key:"editPlanning",value:function(e){var t=this,n=document.getElementById("startDate"+e).value,s=document.getElementById("endDate"+e).value;if(n>s)document.getElementById("error"+e).innerHTML="<div class='alert alert-danger'><li>Date debut est superieure au Date fin</li></div>",I.b.error("ERREUR");else{document.getElementById("error"+e).innerHTML="";var a={startDate:n,endDate:s};U.updatePlanning(e,a).then((function(e){console.log(e),t.componentDidMount(),I.b.success("Modification avec succ\xe9s"),window.scrollTo(0,0)}))}}},{key:"deletePlanning",value:function(e){var t=this;U.deletePlanning(e).then((function(e){t.componentDidMount(),I.b.success("Suppression avec succ\xe9s")}))}},{key:"addPlanning",value:function(){var e=this,t=document.getElementById("startDateAdd").value,n=document.getElementById("endDateAdd").value;if(""!=t&&""!=n){var s="<div class='alert alert-danger'><li>Date debut est superieure au Date fin</li></div>";if(t>n)document.getElementById("errorAdd").innerHTML=s,I.b.error("ERREUR");else{document.getElementById("errorAdd").innerHTML="";var a={startDate:t,endDate:n,idG:this.state.idG};U.createPlanning(a).then((function(t){console.log(t),document.getElementById("startDateAdd").value="",document.getElementById("endDateAdd").value="",I.b.success("Creation avec succ\xe9s"),window.scrollTo(0,0),e.componentDidMount()}))}}else{s="<div class='alert alert-danger'><li>Entrez les deux Dates</li></div>";document.getElementById("errorAdd").innerHTML=s,I.b.error("ERREUR")}}},{key:"render",value:function(){var e=this;return Object(C.jsxs)("div",{children:[Object(C.jsx)("div",{className:"container main-component",children:Object(C.jsx)(V.a,{onChange:function(e){return console.log("dates",e)},selectedDays:this.state.dates,jalali:!1,numberOfMonths:3,numberOfSelectableDays:1e3,disabledDays:[],responsive:ee,disabledBeforToday:!1,disabled:!0,dayComponent:"2021-08-02",titleComponent:"Title"})}),Object(C.jsxs)("div",{className:"container main-component",children:[Object(C.jsxs)("h1",{className:"text-center",children:["Gestion du Planning du groupe ",this.state.groupeName]}),Object(C.jsx)("div",{className:"mt-10 text-center offset-3 col-6",id:"errorAdd"}),Object(C.jsxs)("div",{className:"text-center row",children:[Object(C.jsxs)("div",{className:"col-md-3 offset-2",children:[Object(C.jsx)("label",{children:"Date debut :"}),Object(C.jsx)("input",{type:"date",id:"startDateAdd",name:"startDateAdd",className:"form-control"})]}),Object(C.jsxs)("div",{className:"col-md-3",children:[Object(C.jsx)("label",{children:"Date fin :"}),Object(C.jsx)("input",{type:"date",id:"endDateAdd",name:"endDateAdd",className:"form-control"})]}),Object(C.jsx)("div",{className:"col-md-3 pd-25",children:Object(C.jsx)("button",{onClick:this.addPlanning,id:"btn-create",className:"btn btn-success mt-10",children:"Creer"})})]}),this.state.plannings.map((function(t){return Object(C.jsxs)("div",{children:[Object(C.jsx)("div",{className:"mt-10 text-center offset-3 col-6",id:"error"+t.idP}),Object(C.jsxs)("div",{className:"text-center row",children:[Object(C.jsxs)("div",{className:"col-md-3",children:[Object(C.jsx)("label",{children:"Date debut :"}),Object(C.jsx)("input",{type:"date",id:"startDate"+t.idP,name:"startDate"+t.idP,className:"form-control",defaultValue:t.startDate})]}),Object(C.jsxs)("div",{className:"col-md-3",children:[Object(C.jsx)("label",{children:"Date fin :"}),Object(C.jsx)("input",{type:"date",id:"endDate"+t.idP,name:"endDate"+t.idP,className:"form-control",defaultValue:t.endDate})]}),Object(C.jsx)("div",{className:"col-md-3 pd-25",children:Object(C.jsx)("button",{onClick:function(){return e.editPlanning(t.idP)},className:"btn btn-success mt-10 ",children:"Modifier"})}),Object(C.jsx)("div",{className:"col-md-3 pd-25",children:Object(C.jsx)("button",{onClick:function(){return e.deletePlanning(t.idP)},className:"btn btn-danger mt-10",children:"Supprimer"})})]})]})}))]}),Object(C.jsx)("div",{className:"text-center",children:Object(C.jsx)("button",{id:"deconnect-btn",onClick:this.back,className:"btn btn-secondary ",children:"Retour"})})]})}}]),n}(s.Component),ne=Object(m.withRouter)(te),se=function(e){Object(d.a)(n,e);var t=Object(l.a)(n);function n(e){var s;return Object(i.a)(this,n),(s=t.call(this,e)).state={groupes:[]},s.editGroupe=s.editGroupe.bind(Object(p.a)(s)),s.deleteGroupe=s.deleteGroupe.bind(Object(p.a)(s)),s.create=s.create.bind(Object(p.a)(s)),s.planningOfGroupe=s.planningOfGroupe.bind(Object(p.a)(s)),s}return Object(o.a)(n,[{key:"componentDidMount",value:function(){var e=this;U.getGroupes().then((function(t){e.setState({groupes:t.data})}))}},{key:"editGroupe",value:function(e){this.props.history.push("/addGroupe/".concat(e))}},{key:"deleteGroupe",value:function(e){var t=this;U.deleteGroupe(e).then((function(n){t.setState({groupes:t.state.groupes.filter((function(t){return t.idG!==e}))})})),U.getUserByIdU(k.userInfos.idU).then((function(e){k.userInfos=e.data,localStorage.setItem("userInfos",JSON.stringify(k.userInfos))})),console.log("Suppression avec succ\xe9s"),I.b.success("Suppression avec succ\xe9s")}},{key:"create",value:function(){this.props.history.push("/addGroupe/-1")}},{key:"UsersInGroupe",value:function(e){this.props.history.push("/usersInGroupe/".concat(e))}},{key:"planningOfGroupe",value:function(e){this.props.history.push("/planning/".concat(e))}},{key:"render",value:function(){var e=this;return Object(C.jsxs)("div",{className:"container main-component",children:[Object(C.jsx)("h1",{className:"text-center",children:"Liste de groupe"}),Object(C.jsx)("div",{className:"col-4 offset-4 text-center",children:Object(C.jsx)("button",{onClick:this.create,id:"btn-create",className:"btn btn-success mb-20",children:"Creer"})}),Object(C.jsxs)("table",{className:"table table-striped text-center table-bordered ",children:[Object(C.jsx)("thead",{className:"table-dark",children:Object(C.jsxs)("tr",{children:[Object(C.jsx)("td",{children:"ID"}),Object(C.jsx)("td",{children:"NOM"}),Object(C.jsx)("td",{children:"Nombre d'utilisateurs"})]})}),this.state.groupes.map((function(t){return Object(C.jsxs)("tbody",{className:"table-light",children:[Object(C.jsxs)("tr",{children:[Object(C.jsx)("td",{className:"col-4",children:t.idG}),Object(C.jsx)("td",{children:t.groupeName}),Object(C.jsx)("td",{children:t.numberOfU})]},t.idG),Object(C.jsxs)("div",{className:"text-center width",children:[Object(C.jsx)("div",{className:"item1",children:Object(C.jsx)("button",{onClick:function(){return e.editGroupe(t.idG)},className:"btn btn-success ",children:"Modifier"})}),Object(C.jsx)("div",{className:"item2",children:Object(C.jsx)("button",{onClick:function(){return e.deleteGroupe(t.idG)},className:"btn btn-danger",children:"Supprimer"})}),Object(C.jsx)("div",{className:"item3",children:Object(C.jsx)("button",{id:"deconnect-btn",onClick:function(){return e.UsersInGroupe(t.idG)},className:"btn btn-secondary ",children:"Utilisateurs"})}),Object(C.jsx)("div",{className:"item4",children:Object(C.jsx)("button",{id:"planning-btn",onClick:function(){return e.planningOfGroupe(t.idG)},className:"btn btn-secondary",children:"Planning"})})]})]})}))]})]})}}]),n}(s.Component),ae=Object(m.withRouter)(se),ce=function(e){Object(d.a)(n,e);var t=Object(l.a)(n);function n(e){var s;return Object(i.a)(this,n),(s=t.call(this,e)).saveOrUpdateGroupe=function(e){var t="<div class='alert alert-danger'>";e.preventDefault();var n={groupeName:s.state.groupeName};-1==s.state.idG?U.getGroupeByGroupeName(s.state.groupeName).then((function(e){""!=e.data&&(t+="<li>Ce nom existe deja</li>"),"<div class='alert alert-danger'>"==t?(I.b.success("Creation avec succ\xe9s"),U.createGroupe(n).then((function(e){s.props.history.push("/groupeComponent")}))):(t+="</div>",document.getElementById("errors").innerHTML=t,I.b.error("ERREUR"),window.scrollTo(0,0))})):U.getGroupeByGroupeName(s.state.groupeName).then((function(e){""!=e.data&&s.state.idG!=e.data.idG&&(t+="<li>Ce nom existe deja</li>"),"<div class='alert alert-danger'>"==t?(console.log("Modifier avec succ\xe9s"),U.updateGroupe(s.state.idG,n).then((function(e){U.getUserByIdU(k.userInfos.idU).then((function(e){k.userInfos=e.data,localStorage.setItem("userInfos",JSON.stringify(k.userInfos))})),I.b.success("Modifier avec succ\xe9s"),s.props.history.push("/groupeComponent")}))):(t+="</div>",document.getElementById("errors").innerHTML=t,I.b.error("ERREUR"),window.scrollTo(0,0))}))},s.cancel=function(e){e.preventDefault(),s.props.history.push("/groupeComponent"),console.log("Annuler")},s.changeGroupeNameHandler=function(e){s.setState({groupeName:e.target.value.toUpperCase()})},s.state={idG:s.props.match.params.idG,groupeName:""},console.log(s.state.groupeName),s.changeGroupeNameHandler=s.changeGroupeNameHandler.bind(Object(p.a)(s)),s.saveOrUpdateGroupe=s.saveOrUpdateGroupe.bind(Object(p.a)(s)),s.cancel=s.cancel.bind(Object(p.a)(s)),s}return Object(o.a)(n,[{key:"componentDidMount",value:function(){var e=this;-1!=this.state.idG?U.getGroupeByIdG(this.state.idG).then((function(t){console.log(e.state.idG);var n=t.data;console.log(n),e.setState({groupeName:n.groupeName})})):console.log("ajouter")}},{key:"getTitle",value:function(){return-1==this.state.idG?Object(C.jsx)("h3",{className:"text-center mt-10",children:"Cr\xe9er un groupe"}):Object(C.jsx)("h3",{className:"text-center mt-10",children:"Modifier un groupe"})}},{key:"validateForm",value:function(){return this.state.groupeName.length>0}},{key:"render",value:function(){return Object(C.jsx)("div",{children:Object(C.jsx)("div",{className:"container",children:Object(C.jsx)("div",{className:"row",children:Object(C.jsxs)("div",{className:"card col-md-6 offset-md-3",id:"card",children:[this.getTitle(),Object(C.jsxs)("div",{className:"card-body",children:[Object(C.jsx)("div",{id:"errors"}),Object(C.jsxs)("form",{children:[Object(C.jsxs)("div",{className:"form-groupe mb-20",children:[Object(C.jsx)("label",{children:"Nom du groupe :"}),Object(C.jsx)("input",{name:"groupeName",className:"form-control",value:this.state.groupeName,onChange:this.changeGroupeNameHandler})]}),Object(C.jsxs)("div",{className:"row",children:[Object(C.jsx)("button",{className:"btn btn-success col-4 offset-1 mt-10 ",onClick:this.saveOrUpdateGroupe,disabled:!this.validateForm(),children:"Enregistrer"}),Object(C.jsx)("button",{className:"btn btn-danger col-4 offset-2  mt-10 ",onClick:this.cancel,children:"Annuler"})]})]})]})]})})})})}}]),n}(s.Component),re=Object(m.withRouter)(ce),ie=function(e){Object(d.a)(n,e);var t=Object(l.a)(n);function n(e){var s;return Object(i.a)(this,n),(s=t.call(this,e)).state={idG:s.props.match.params.idG,users:[],groupeName:"",idU:"",usersNotInGroupe:[],groupeName2:[]},s.deleteUserFromGroupe=s.deleteUserFromGroupe.bind(Object(p.a)(s)),s.addUserToGroupe=s.addUserToGroupe.bind(Object(p.a)(s)),s.back=s.back.bind(Object(p.a)(s)),s}return Object(o.a)(n,[{key:"deleteUserFromGroupe",value:function(e){var t=this;console.log(this.state.idG,e),U.deleteUserFromGroupe(this.state.idG,e).then((function(e){console.log(e),t.componentDidMount(),U.getUserByIdU(k.userInfos.idU).then((function(e){k.userInfos=e.data,localStorage.setItem("userInfos",JSON.stringify(k.userInfos))}))})),console.log("Suppression avec succ\xe9s"),I.b.success("Retire avec succ\xe9s")}},{key:"addUserToGroupe",value:function(e){var t=this;U.addUserToGroupe(this.state.idG,e).then((function(e){console.log(e),t.componentDidMount(),U.getUserByIdU(k.userInfos.idU).then((function(e){k.userInfos=e.data,localStorage.setItem("userInfos",JSON.stringify(k.userInfos))})),I.b.success("Ajout avec succ\xe9s"),window.scrollTo(0,0)}))}},{key:"back",value:function(){this.props.history.push("/groupeComponent")}},{key:"componentDidMount",value:function(){var e=this;U.getGroupeByIdG(this.state.idG).then((function(t){e.setState({users:t.data.users,groupeName:t.data.groupeName})})),U.getUsersNotInGroupe(this.state.idG).then((function(t){var n=[];t.data.map((function(t){null==t.idG?(n.push({idU:t.idU,name:"-"}),e.setState({groupeName2:n})):U.getGroupeByIdG(t.idG).then((function(s){n.push({idU:t.idU,name:s.data.groupeName}),e.setState({groupeName2:n})}))})),e.setState({usersNotInGroupe:t.data})}))}},{key:"gender",value:function(e){return 1===e?"masculin":"feminin"}},{key:"defined",value:function(e){if(void 0!=e)return e.name}},{key:"getTable",value:function(e){var t=this;return 1==e?Object(C.jsxs)("div",{className:"main-component",children:[Object(C.jsxs)("h1",{className:"text-center",children:["Utilisateurs du groupe ",this.state.groupeName]}),Object(C.jsxs)("table",{className:"table table-striped text-center table-bordered table-active",children:[Object(C.jsx)("thead",{className:"table-dark",children:Object(C.jsxs)("tr",{children:[Object(C.jsx)("td",{children:"ID"}),Object(C.jsx)("td",{children:"Prenom"}),Object(C.jsx)("td",{children:"Nom"}),Object(C.jsx)("td",{children:"Sexe"}),Object(C.jsx)("td",{children:"Pays"}),Object(C.jsx)("td",{children:"Ville"}),Object(C.jsx)("td",{children:"Adresse"}),Object(C.jsx)("td",{children:"Date de naissance"}),Object(C.jsx)("td",{children:"Lieu de naissance"}),Object(C.jsx)("td",{children:"CIN"}),Object(C.jsx)("td",{children:"Num de telephone"}),Object(C.jsx)("td",{children:"Email"}),Object(C.jsx)("td",{children:"Profil"}),Object(C.jsx)("td",{})]})}),this.state.users.map((function(e){return Object(C.jsx)("tbody",{className:"table-light",children:Object(C.jsxs)("tr",{children:[Object(C.jsx)("td",{children:e.idU}),Object(C.jsx)("td",{children:e.firstName}),Object(C.jsx)("td",{children:e.secondName}),Object(C.jsx)("td",{children:t.gender(e.sexe)}),Object(C.jsx)("td",{children:e.country}),Object(C.jsx)("td",{children:e.city}),Object(C.jsx)("td",{children:e.address}),Object(C.jsx)("td",{children:e.birthday}),Object(C.jsx)("td",{children:e.birthplace}),Object(C.jsx)("td",{children:e.cin}),Object(C.jsx)("td",{children:e.phone}),Object(C.jsx)("td",{children:e.email}),Object(C.jsx)("td",{children:e.profil}),Object(C.jsx)("td",{children:Object(C.jsx)("button",{onClick:function(){return t.deleteUserFromGroupe(e)},className:"btn btn-danger btn-sm",children:"Retirer"})})]},e.idU)})}))]})]}):Object(C.jsxs)("div",{className:"main-component",children:[Object(C.jsxs)("h1",{className:"text-center",children:["Ajouter des utilisateurs au groupe ",this.state.groupeName]}),Object(C.jsxs)("table",{className:"table table-striped text-center font-size table-bordered table-active",children:[Object(C.jsx)("thead",{className:"table-dark",children:Object(C.jsxs)("tr",{children:[Object(C.jsx)("td",{children:"ID"}),Object(C.jsx)("td",{children:"Prenom"}),Object(C.jsx)("td",{children:"Nom"}),Object(C.jsx)("td",{children:"Sexe"}),Object(C.jsx)("td",{children:"Pays"}),Object(C.jsx)("td",{children:"Ville"}),Object(C.jsx)("td",{children:"Adresse"}),Object(C.jsx)("td",{children:"Date de naissance"}),Object(C.jsx)("td",{children:"Lieu de naissance"}),Object(C.jsx)("td",{children:"CIN"}),Object(C.jsx)("td",{children:"Num de telephone"}),Object(C.jsx)("td",{children:"Email"}),Object(C.jsx)("td",{children:"Profil"}),Object(C.jsx)("td",{children:"Groupe"}),Object(C.jsx)("td",{})]})}),this.state.usersNotInGroupe.map((function(e){return Object(C.jsx)("tbody",{className:"table-light",children:Object(C.jsxs)("tr",{children:[Object(C.jsx)("td",{children:e.idU}),Object(C.jsx)("td",{children:e.firstName}),Object(C.jsx)("td",{children:e.secondName}),Object(C.jsx)("td",{children:t.gender(e.sexe)}),Object(C.jsx)("td",{children:e.country}),Object(C.jsx)("td",{children:e.city}),Object(C.jsx)("td",{children:e.address}),Object(C.jsx)("td",{children:e.birthday}),Object(C.jsx)("td",{children:e.birthplace}),Object(C.jsx)("td",{children:e.cin}),Object(C.jsx)("td",{children:e.phone}),Object(C.jsx)("td",{children:e.email}),Object(C.jsx)("td",{children:e.profil}),Object(C.jsx)("td",{children:t.defined(t.state.groupeName2.find((function(t){return t.idU==e.idU})))}),Object(C.jsx)("td",{children:Object(C.jsx)("button",{onClick:function(){return t.addUserToGroupe(e)},id:"btn-create",className:"btn btn-success btn-sm",children:"Ajouter"})})]},e.idU)})}))]})]})}},{key:"render",value:function(){return Object(C.jsxs)("div",{className:"text-center",children:[this.getTable(1),this.getTable(0),Object(C.jsx)("button",{id:"deconnect-btn",onClick:this.back,className:"btn btn-secondary",children:"Retour"})]})}}]),n}(s.Component),oe=Object(m.withRouter)(ie),de=function(e){Object(d.a)(n,e);var t=Object(l.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"deconnected",value:function(){localStorage.clear(),console.log("deconnected"),k.userInfos=[],r.a.render(Object(C.jsx)(a.a.StrictMode,{children:Object(C.jsx)(je,{})}),document.getElementById("root"))}},{key:"render",value:function(){return Object(C.jsx)(h.a,{children:Object(C.jsxs)("div",{className:"mb-40",children:[Object(C.jsx)(j.a,{className:"mb-20",bg:"dark",variant:"dark",children:Object(C.jsxs)(u.a,{children:[Object(C.jsx)(b.a.Item,{children:Object(C.jsxs)(h.b,{to:"/profil",children:[" ",Object(C.jsx)("i",{className:"fa fa-user fa-sm mr-2 "}),"Profil"]})}),Object(C.jsx)(b.a.Item,{children:Object(C.jsxs)(h.b,{to:"/groupeComponent",children:[Object(C.jsx)("i",{className:"fa fa-address-book fa-sm mr-2 "}),"Groupes"]})}),Object(C.jsx)(b.a.Item,{children:Object(C.jsxs)(h.b,{to:"/monPlanning",children:[Object(C.jsx)("i",{className:"fa fa-clock fa-sm mr-2 "}),"Planning"]})}),Object(C.jsx)(b.a.Item,{children:Object(C.jsxs)(h.b,{to:"/notifications",children:[Object(C.jsx)("i",{className:"fa fa-bell fa-sm mr-2 "}),"Notifications"]})}),Object(C.jsx)(b.a.Item,{children:Object(C.jsx)(h.b,{to:"/login",children:Object(C.jsx)("button",{id:"deconnect-btn",className:"btn btn-secondary btn-sm btn-block",onClick:this.deconnected,children:"Se deconnecter"})})})]})}),Object(C.jsxs)(m.Switch,{children:[Object(C.jsx)(m.Route,{exact:!0,path:"/",children:Object(C.jsx)(A,{})}),Object(C.jsx)(m.Route,{path:"/profil",children:Object(C.jsx)(A,{})}),Object(C.jsx)(m.Route,{path:"/addUser/:idU",children:Object(C.jsx)(B,{})}),Object(C.jsx)(m.Route,{path:"/addGroupe/:idG",children:Object(C.jsx)(re,{})}),Object(C.jsx)(m.Route,{path:"/groupeComponent",children:Object(C.jsx)(ae,{})}),Object(C.jsx)(m.Route,{path:"/usersInGroupe/:idG",children:Object(C.jsx)(oe,{})}),Object(C.jsx)(m.Route,{path:"/planning/:idG",children:Object(C.jsx)(ne,{})}),Object(C.jsx)(m.Route,{path:"/monPlanning",children:Object(C.jsx)(Z,{})}),Object(C.jsx)(m.Route,{path:"/notifications",children:Object(C.jsx)(Q,{})})]})]})})}}]),n}(s.Component),le=function(e){Object(d.a)(n,e);var t=Object(l.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"deconnected",value:function(){localStorage.clear(),console.log("deconnected"),k.userInfos=[],r.a.render(Object(C.jsx)(a.a.StrictMode,{children:Object(C.jsx)(je,{})}),document.getElementById("root"))}},{key:"render",value:function(){return Object(C.jsx)(h.a,{children:Object(C.jsxs)("div",{className:"mb-40",children:[Object(C.jsx)(j.a,{className:"mb-20",bg:"dark",variant:"dark",children:Object(C.jsxs)(u.a,{children:[Object(C.jsx)(b.a.Item,{children:Object(C.jsxs)(h.b,{to:"/profil",children:[Object(C.jsx)("i",{className:"fa fa-user fa-sm mr-2 "}),"Profil"]})}),Object(C.jsx)(b.a.Item,{children:Object(C.jsxs)(h.b,{to:"/monPlanning",children:[Object(C.jsx)("i",{className:"fa fa-clock fa-sm mr-2 "}),"Planning"]})}),Object(C.jsx)(b.a.Item,{children:Object(C.jsxs)(h.b,{to:"/notifications",children:[Object(C.jsx)("i",{className:"fa fa-bell fa-sm mr-2 "}),"Notifications"]})}),Object(C.jsx)(b.a.Item,{children:Object(C.jsx)(h.b,{to:"/login",children:Object(C.jsx)("button",{id:"deconnect-btn",className:"btn btn-secondary btn-sm btn-block",onClick:this.deconnected,children:"Se deconnecter"})})})]})}),Object(C.jsxs)(m.Switch,{children:[Object(C.jsx)(m.Route,{exact:!0,path:"/",children:Object(C.jsx)(A,{})}),Object(C.jsx)(m.Route,{path:"/profil",children:Object(C.jsx)(A,{})}),Object(C.jsx)(m.Route,{path:"/monPlanning",children:Object(C.jsx)(Z,{})}),Object(C.jsx)(m.Route,{path:"/notifications",children:Object(C.jsx)(Q,{})})]})]})})}}]),n}(s.Component);var je=function(){return Object(C.jsxs)("div",{children:[Object(C.jsx)(I.a,{position:"top-center"}),(console.log(k.userInfos),null==k.userInfos||0==k.userInfos.length?Object(C.jsx)(D,{}):(console.log(k.userInfos),"ADMIN"==k.userInfos.profil?Object(C.jsx)(X,{}):"RESPONSABLE"==k.userInfos.profil?Object(C.jsx)(de,{}):"AGENT"==k.userInfos.profil?Object(C.jsx)(le,{}):void 0)),Object(C.jsx)($,{})]})},ue=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,115)).then((function(t){var n=t.getCLS,s=t.getFID,a=t.getFCP,c=t.getLCP,r=t.getTTFB;n(e),s(e),a(e),c(e),r(e)}))};r.a.render(Object(C.jsx)(a.a.StrictMode,{children:Object(C.jsx)(je,{})}),document.getElementById("root")),ue()},78:function(e,t,n){},79:function(e,t,n){}},[[106,1,2]]]);
//# sourceMappingURL=main.9279c4fe.chunk.js.map